# 遥控器拨杆出现尖峰

> ###### 问题表现：在没有实际拨动的情况下，拨杆传回来的数据会偶尔出现尖刺

### 实验目的：找到尖峰出现的原因，和影响因素

### 1.问题定位

| 可能原因                   | 怀疑原因                                                 | 检查方法                                                     | 监测现象                                                     | 结论                                                         |
| -------------------------- | -------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 遥控器或者DBUS硬件问题     | 先排除硬件自身问题                                       | 1.把工程的遥控器DBUS安装到其他机器人上读遥控器数据<br />2.把其他兵种（哨兵，3.4号步兵，英雄）的遥控器DBUS安装到工程上检查 | 对两组实验数据进行五分钟的监测，并未出现                     | 是工程自身环境对dbus有干扰                                   |
| 气泵对dbus的影响           | 其他兵种没有气泵                                         | 用锡箔纸把气泵电磁阀包起来                                   | 平均一分钟一次尖峰                                           | 没有起到作用，并且没有定位到具体问题，相当于浪费时间了       |
| 气泵开启对dbus输出的影响   | 1.在测试中观察到开气泵情况下发生<br />2.其他兵种没有气泵 | 关掉气泵，打开电磁阀对数据进行检测                           | 在测试七分钟左拨杆连续出现两次尖峰<br />八分钟左右同时出现一次尖峰<br />九分钟左右连续出现两次 | 气泵开启与否对尖峰的出现不是决定性因素，电磁阀有影响，气泵带来的影响是单边尖峰 |
| 电磁阀开启对dbus 的影响    | 其它兵种没有电磁阀                                       | 把气泵打开，电磁阀关闭，检测数据十五分钟                     | 10s时右拨杆一次<br />2min左右各一次，但不同时<br />2min30s右拨杆出现一次<br />2min40s右拨杆一次<br />3min左拨杆一次<br />4分钟右拨杆一次 | 电磁阀不是决定性因素，电磁阀带来的影响是同时尖峰             |
| 电磁阀和气泵均对dbus有影响 | 气泵和电磁阀单独开启都会有影响                           | 同时关闭，检测五分钟                                         | 第一次五分钟无尖峰<br />第二次五分钟无尖峰<br />第三次五分钟无尖峰<br />第三个五分钟无尖峰 | 电磁阀和气泵均对dbus有影响                                   |
| 气泵的存在的影响           | -                                                        | -                                                            | -                                                            | -                                                            |
| 电磁阀的存在的影响         | -                                                        | -                                                            | -                                                            | -                                                            |

### 2.尝试解决方法

| 方法                         | 原因                     | 监测结果                                                     | 结果                               |
| ---------------------------- | ------------------------ | ------------------------------------------------------------ | ---------------------------------- |
| 用锡箔纸把电磁阀和气泵包起来 | 锡箔纸可以起到隔离的作用 | 平均一分钟一次                                               | 效果不好                           |
| 把dbus放在车底盘另一边       | 离干扰源远可能会有用     | 30s右一次<br />1min左一次<br />1min30左右同时一次<br />3min左一次<br />3min30右一次<br />3min50右两次<br />4min左一次 | 效果不好，距离对尖峰的出现影响不大 |
| 用锡箔纸把电磁阀包起来       | 锡箔纸可以起到隔离的作用 | 1min右一次<br />1min10s右一次<br />2min右一次<br />2min10s左一次<br />2min20右一次<br />2min25左一次<br />3min20左一次<br />3min50右一次<br />4min右一次<br />4min5s右一次 | 有一点作用，不稳定                 |

